<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NASA Global Weather Intelligence - Advanced Meteorological Analysis</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Exo+2:wght@300;400;500;600;700&display=swap');
    
    :root {
      --nasa-blue: #0b3d91;
      --nasa-red: #fc3d21;
      --nasa-dark: #061f4a;
      --nasa-light: #1a6bc4;
      --deep-space: #050a1c;
    }
    
    * {
      box-sizing: border-box;
    }
    
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      overflow-x: hidden;
    }
    
    body {
      font-family: 'Exo 2', sans-serif;
      color: #ffffff;
      overflow-y: auto;
    }
    
    .space-bg {
      background: 
        radial-gradient(ellipse at top, rgba(10, 14, 23, 0.7) 0%, rgba(0, 0, 0, 0.8) 70%),
        #050a1c;
      position: relative;
      min-height: 100vh;
    }
    
    .stars {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        radial-gradient(2px 2px at 20px 30px, #eee, transparent),
        radial-gradient(2px 2px at 40px 70px, #fff, transparent),
        radial-gradient(1px 1px at 90px 40px, #fff, transparent),
        radial-gradient(1px 1px at 130px 80px, #fff, transparent),
        radial-gradient(2px 2px at 160px 30px, #ddd, transparent);
      background-repeat: repeat;
      background-size: 200px 100px;
      animation: twinkle 8s ease-in-out infinite alternate;
      z-index: 0;
      pointer-events: none;
    }
    
    @keyframes twinkle {
      0% { opacity: 0.3; }
      100% { opacity: 0.8; }
    }
    
    .nebula {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(circle at 20% 30%, rgba(11, 61, 145, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(252, 61, 33, 0.05) 0%, transparent 50%),
        radial-gradient(circle at 40% 80%, rgba(26, 107, 196, 0.08) 0%, transparent 50%);
      z-index: 0;
      pointer-events: none;
    }
    
    .satellite {
      position: fixed;
      top: 20%;
      right: -100px;
      animation: satelliteMove 30s linear infinite;
      z-index: 1;
      pointer-events: none;
    }
    
    @keyframes satelliteMove {
      0% { transform: translateX(0) translateY(0) rotate(0deg); }
      25% { transform: translateX(-50vw) translateY(50px) rotate(90deg); }
      50% { transform: translateX(-100vw) translateY(0) rotate(180deg); }
      75% { transform: translateX(-50vw) translateY(-50px) rotate(270deg); }
      100% { transform: translateX(0) translateY(0) rotate(360deg); }
    }
    
    .planet {
      position: fixed;
      width: 300px;
      height: 300px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #3a6186, #0a0e17);
      box-shadow: 0 0 80px rgba(58, 97, 134, 0.5);
      bottom: -100px;
      right: -100px;
      animation: planetRotate 120s linear infinite;
      z-index: 0;
      pointer-events: none;
    }
    
    @keyframes planetRotate {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .card {
      background: rgba(16, 22, 36, 0.7);
      backdrop-filter: blur(15px);
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: 16px;
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
      transition: all 0.3s ease;
    }
    
    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
      border-color: rgba(255, 255, 255, 0.15);
    }
    
    .form-input {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 8px;
      padding: 14px 16px;
      color: white;
      width: 100%;
      transition: all 0.3s ease;
      font-family: 'Exo 2', sans-serif;
    }
    
    .form-input:focus {
      outline: none;
      border-color: var(--nasa-blue);
      box-shadow: 0 0 0 3px rgba(11, 61, 145, 0.3);
      background: rgba(255, 255, 255, 0.08);
    }
    
    .form-select {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 8px;
      padding: 14px 16px;
      color: white;
      width: 100%;
      transition: all 0.3s ease;
      font-family: 'Exo 2', sans-serif;
      appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 16px center;
      background-size: 16px;
    }
    
    .form-select:focus {
      outline: none;
      border-color: var(--nasa-blue);
      box-shadow: 0 0 0 3px rgba(11, 61, 145, 0.3);
      background-color: rgba(255, 255, 255, 0.08);
    }
    
    .btn-primary {
      background: linear-gradient(135deg, var(--nasa-blue), var(--nasa-dark));
      color: white;
      border: none;
      border-radius: 8px;
      padding: 16px 28px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Exo 2', sans-serif;
      font-size: 1rem;
      position: relative;
      overflow: hidden;
    }
    
    .btn-primary::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: 0.5s;
    }
    
    .btn-primary:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 25px rgba(11, 61, 145, 0.5);
    }
    
    .btn-primary:hover::before {
      left: 100%;
    }
    
    .weather-icon {
      font-size: 2.5rem;
      margin-right: 12px;
      animation: float 8s ease-in-out infinite;
      filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.3));
    }
    
    @keyframes float {
      0% { transform: translateY(0px) rotate(0deg); }
      33% { transform: translateY(-15px) rotate(5deg); }
      66% { transform: translateY(10px) rotate(-5deg); }
      100% { transform: translateY(0px) rotate(0deg); }
    }
    
    .pulse {
      animation: pulse 3s infinite;
    }
    
    @keyframes pulse {
      0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(11, 61, 145, 0.7); }
      50% { transform: scale(1.05); box-shadow: 0 0 0 15px rgba(11, 61, 145, 0); }
      100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(11, 61, 145, 0); }
    }
    
    .fade-in {
      animation: fadeIn 1s ease-out;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .slide-up {
      animation: slideUp 0.8s ease-out;
    }
    
    @keyframes slideUp {
      from { 
        opacity: 0;
        transform: translateY(40px);
      }
      to { 
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .rain-animation {
      position: relative;
      overflow: hidden;
    }
    
    .rain-animation::after {
      content: "";
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cpath fill='%2300a8ff' d='M50,10 L52,15 L57,15 L53,19 L55,24 L50,21 L45,24 L47,19 L43,15 L48,15 Z'/%3E%3C/svg%3E") repeat;
      opacity: 0.2;
      animation: rainFall 12s linear infinite;
      pointer-events: none;
    }
    
    @keyframes rainFall {
      0% { transform: translateY(-100%) rotate(0deg); }
      100% { transform: translateY(100%) rotate(360deg); }
    }
    
    .cloud-move {
      animation: cloudMove 25s linear infinite;
    }
    
    @keyframes cloudMove {
      0% { transform: translateX(-100px); }
      100% { transform: translateX(100px); }
    }
    
    .sun-spin {
      animation: sunSpin 30s linear infinite;
    }
    
    @keyframes sunSpin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .typing-animation {
      overflow: hidden;
      border-right: 2px solid var(--nasa-blue);
      white-space: nowrap;
      margin: 0 auto;
      animation: typing 4s steps(50, end), blink-caret 0.75s step-end infinite;
    }
    
    @keyframes typing {
      from { width: 0 }
      to { width: 100% }
    }
    
    @keyframes blink-caret {
      from, to { border-color: transparent }
      50% { border-color: var(--nasa-blue) }
    }
    
    .meteor {
      position: fixed;
      width: 3px;
      height: 3px;
      background: white;
      border-radius: 50%;
      box-shadow: 0 0 0 4px rgba(255, 255, 255, 0.1),
                  0 0 0 8px rgba(255, 255, 255, 0.1),
                  0 0 30px rgba(255, 255, 255, 1);
      animation: meteorFall 4s linear infinite;
      z-index: 0;
      pointer-events: none;
    }
    
    @keyframes meteorFall {
      0% {
        transform: translateX(0) translateY(0) rotate(45deg);
        opacity: 1;
      }
      70% {
        opacity: 1;
      }
      100% {
        transform: translateX(500px) translateY(500px) rotate(45deg);
        opacity: 0;
      }
    }
    
    /* NASA Logo Styles */
    .nasa-logo {
      display: flex;
      align-items: center;
      font-family: 'Orbitron', sans-serif;
      font-weight: 700;
      font-size: 1.8rem;
      letter-spacing: 1px;
    }
    
    .nasa-logo-text {
      background: linear-gradient(90deg, #fff, var(--nasa-red));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-left: 12px;
      text-shadow: 0 0 20px rgba(252, 61, 33, 0.3);
    }
    
    .nasa-badge {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, var(--nasa-blue), var(--nasa-dark));
      color: white;
      border-radius: 6px;
      padding: 6px 12px;
      font-size: 0.8rem;
      margin-left: 12px;
      font-weight: 600;
      letter-spacing: 0.5px;
      box-shadow: 0 4px 12px rgba(11, 61, 145, 0.3);
    }
    
    /* Enhanced UI Elements */
    .progress-bar {
      height: 6px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 3px;
      overflow: hidden;
      margin: 20px 0;
    }
    
    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--nasa-blue), var(--nasa-red));
      border-radius: 3px;
      transition: width 0.5s ease;
      box-shadow: 0 0 10px rgba(11, 61, 145, 0.5);
    }
    
    .data-card {
      background: rgba(16, 22, 36, 0.6);
      border-radius: 12px;
      padding: 20px;
      border-left: 4px solid var(--nasa-blue);
      transition: all 0.3s ease;
      height: 100%;
    }
    
    .data-card:hover {
      transform: translateY(-8px);
      background: rgba(16, 22, 36, 0.8);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
    }
    
    .tooltip {
      position: relative;
    }
    
    .tooltip:hover::after {
      content: attr(data-tooltip);
      position: absolute;
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0, 0, 0, 0.9);
      color: white;
      padding: 8px 12px;
      border-radius: 6px;
      font-size: 0.8rem;
      white-space: nowrap;
      z-index: 100;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    /* Loading animation */
    .loading-dots {
      display: inline-block;
      position: relative;
      width: 80px;
      height: 80px;
    }
    
    .loading-dots div {
      position: absolute;
      top: 33px;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background: var(--nasa-blue);
      animation-timing-function: cubic-bezier(0, 1, 1, 0);
      box-shadow: 0 0 10px var(--nasa-blue);
    }
    
    .loading-dots div:nth-child(1) {
      left: 8px;
      animation: loading-dots1 0.6s infinite;
    }
    
    .loading-dots div:nth-child(2) {
      left: 8px;
      animation: loading-dots2 0.6s infinite;
    }
    
    .loading-dots div:nth-child(3) {
      left: 32px;
      animation: loading-dots2 0.6s infinite;
    }
    
    .loading-dots div:nth-child(4) {
      left: 56px;
      animation: loading-dots3 0.6s infinite;
    }
    
    @keyframes loading-dots1 {
      0% { transform: scale(0); }
      100% { transform: scale(1); }
    }
    
    @keyframes loading-dots3 {
      0% { transform: scale(1); }
      100% { transform: scale(0); }
    }
    
    @keyframes loading-dots2 {
      0% { transform: translate(0, 0); }
      100% { transform: translate(24px, 0); }
    }
    
    /* Responsive adjustments */
    @media (max-width: 768px) {
      .nasa-logo {
        font-size: 1.4rem;
      }
      
      .container {
        padding-left: 1rem;
        padding-right: 1rem;
      }
      
      .card {
        padding: 1.5rem;
      }
      
      .btn-primary {
        padding: 14px 20px;
      }
    }
    
    /* Data visualization */
    .weather-radar {
      position: relative;
      height: 200px;
      background: radial-gradient(circle, rgba(59,130,246,0.1) 0%, rgba(0,0,0,0) 70%);
      border-radius: 12px;
      overflow: hidden;
      margin-top: 20px;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .radar-sweep {
      position: absolute;
      width: 100%;
      height: 100%;
      background: conic-gradient(from 0deg, transparent, rgba(59,130,246,0.3) 10%, transparent 30%);
      animation: radarSweep 4s linear infinite;
    }
    
    @keyframes radarSweep {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .radar-dot {
      position: absolute;
      width: 10px;
      height: 10px;
      background: rgba(59,130,246,0.7);
      border-radius: 50%;
      animation: pulse 2s infinite;
      box-shadow: 0 0 10px rgba(59,130,246,0.7);
    }
    
    /* Enhanced grid for forecast */
    .forecast-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
      gap: 16px;
    }
    
    /* Header gradient */
    .header-gradient {
      background: linear-gradient(135deg, rgba(11, 61, 145, 0.1) 0%, rgba(6, 31, 74, 0.2) 100%);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }
    
    /* Enhanced footer */
    .footer-gradient {
      background: linear-gradient(180deg, transparent 0%, rgba(6, 31, 74, 0.3) 100%);
      border-top: 1px solid rgba(255, 255, 255, 0.05);
    }
    
    /* Fix for z-index issues */
    .content-wrapper {
      position: relative;
      z-index: 10;
    }
    
    /* Custom dropdown styles */
    select option {
      background-color: #0f172a;
      color: white;
    }
    
    /* Navigation styles */
    .nav-link {
      color: rgba(255, 255, 255, 0.7);
      padding: 0.5rem 1rem;
      border-radius: 0.375rem;
      transition: all 0.3s ease;
      cursor: pointer;
    }
    
    .nav-link:hover {
      color: white;
      background-color: rgba(255, 255, 255, 0.1);
    }
    
    .nav-link.active {
      color: white;
      background-color: rgba(11, 61, 145, 0.3);
    }
    
    /* Team member styles */
    .team-member {
      transition: all 0.3s ease;
    }
    
    .team-member:hover {
      transform: translateY(-5px);
    }
    
    .team-leader {
      border: 2px solid var(--nasa-red);
      box-shadow: 0 0 15px rgba(252, 61, 33, 0.3);
    }
  </style>
</head>
<body class="space-bg min-h-screen">
  <div class="stars"></div>
  <div class="nebula"></div>
  <div class="satellite">
    <i class="fas fa-satellite text-white text-2xl"></i>
  </div>
  <div class="planet"></div>
  
  <!-- Add meteors -->
  <div class="meteor" style="top: 10%; left: 10%; animation-delay: 0s;"></div>
  <div class="meteor" style="top: 20%; left: 20%; animation-delay: 1.5s;"></div>
  <div class="meteor" style="top: 30%; left: 30%; animation-delay: 3s;"></div>
  <div class="meteor" style="top: 15%; left: 15%; animation-delay: 4.5s;"></div>
  
  <div id="root" class="min-h-screen relative z-10 content-wrapper"></div>

  <script type="text/babel">
    const { useState, useEffect, useRef } = React;

    function App() {
      const [step, setStep] = useState(1);
      const [currentPage, setCurrentPage] = useState('home');
      const [countries, setCountries] = useState([]);
      const [cities, setCities] = useState([]);
      const [formData, setFormData] = useState({
        country: '',
        city: '',
        date: '',
        forecast_period: '1 day',
        user_type: '',
        category: '',
      });
      const [weatherData, setWeatherData] = useState(null);
      const [advice, setAdvice] = useState(null);
      const [loading, setLoading] = useState(false);
      const [error, setError] = useState('');
      const [currentTime, setCurrentTime] = useState(new Date());
      const [progress, setProgress] = useState(0);
      const [isInitialLoad, setIsInitialLoad] = useState(true);
      
      // Team data
      const teamMembers = [
        { name: 'Mohaned Nasser', role: 'Team Leader', isLeader: true },
        { name: 'Areej Mohammed', role: 'Data Scientist', isLeader: false },
        { name: 'Shaza Mohammed', role: 'Frontend Developer', isLeader: false },
        { name: 'Rahma Ashraf', role: 'UI/UX Designer', isLeader: false },
        { name: 'Ahmed Gamal', role: 'Backend Developer', isLeader: false },
        { name: 'Abdelrahman Ahmed', role: 'Meteorology Specialist', isLeader: false }
      ];
      
      // Use refs to prevent unnecessary re-renders
      const worldData = useRef({
        countries: [
          'United States', 'United Kingdom', 'Canada', 'Australia', 'Germany', 'France', 'Italy', 'Spain', 
          'Japan', 'China', 'India', 'Brazil', 'Mexico', 'South Africa', 'Russia', 'Turkey', 'South Korea',
          'Netherlands', 'Sweden', 'Norway', 'Switzerland', 'Austria', 'Belgium', 'Denmark', 'Finland',
          'Greece', 'Portugal', 'Ireland', 'New Zealand', 'Singapore', 'Malaysia', 'Thailand', 'Vietnam',
          'Argentina', 'Chile', 'Colombia', 'Peru', 'Nigeria', 'Kenya', 'Morocco', 'Tunisia', 'Algeria'
        ],
        cities: {
          'United States': ['New York', 'Los Angeles', 'Chicago', 'Houston', 'Phoenix', 'Philadelphia', 'San Antonio', 'San Diego'],
          'United Kingdom': ['London', 'Manchester', 'Birmingham', 'Liverpool', 'Edinburgh', 'Glasgow', 'Leeds'],
          'Canada': ['Toronto', 'Vancouver', 'Montreal', 'Calgary', 'Ottawa', 'Edmonton', 'Winnipeg'],
          'Australia': ['Sydney', 'Melbourne', 'Brisbane', 'Perth', 'Adelaide', 'Canberra', 'Hobart'],
          'Germany': ['Berlin', 'Munich', 'Hamburg', 'Frankfurt', 'Cologne', 'Stuttgart', 'Düsseldorf'],
          'France': ['Paris', 'Marseille', 'Lyon', 'Toulouse', 'Nice', 'Nantes', 'Strasbourg'],
          'Italy': ['Rome', 'Milan', 'Naples', 'Turin', 'Palermo', 'Genoa', 'Bologna'],
          'Spain': ['Madrid', 'Barcelona', 'Valencia', 'Seville', 'Zaragoza', 'Malaga', 'Murcia'],
          'Japan': ['Tokyo', 'Osaka', 'Kyoto', 'Yokohama', 'Nagoya', 'Sapporo', 'Kobe'],
          'China': ['Beijing', 'Shanghai', 'Guangzhou', 'Shenzhen', 'Chengdu', 'Wuhan', 'Xi\'an'],
          'India': ['Mumbai', 'Delhi', 'Bangalore', 'Hyderabad', 'Chennai', 'Kolkata', 'Pune'],
          'Brazil': ['São Paulo', 'Rio de Janeiro', 'Brasília', 'Salvador', 'Fortaleza', 'Belo Horizonte', 'Manaus'],
          'Mexico': ['Mexico City', 'Guadalajara', 'Monterrey', 'Puebla', 'Tijuana', 'León', 'Zapopan'],
          'South Africa': ['Johannesburg', 'Cape Town', 'Durban', 'Pretoria', 'Port Elizabeth', 'Bloemfontein'],
          'Russia': ['Moscow', 'Saint Petersburg', 'Novosibirsk', 'Yekaterinburg', 'Kazan', 'Nizhny Novgorod'],
          'Turkey': ['Istanbul', 'Ankara', 'Izmir', 'Bursa', 'Adana', 'Antalya', 'Konya'],
          'South Korea': ['Seoul', 'Busan', 'Incheon', 'Daegu', 'Daejeon', 'Gwangju', 'Ulsan'],
          'Netherlands': ['Amsterdam', 'Rotterdam', 'The Hague', 'Utrecht', 'Eindhoven', 'Tilburg', 'Groningen'],
          'Sweden': ['Stockholm', 'Gothenburg', 'Malmö', 'Uppsala', 'Västerås', 'Örebro', 'Linköping'],
          'Norway': ['Oslo', 'Bergen', 'Trondheim', 'Stavanger', 'Drammen', 'Fredrikstad', 'Kristiansand'],
          'Switzerland': ['Zurich', 'Geneva', 'Basel', 'Lausanne', 'Bern', 'Winterthur', 'Lucerne'],
          'Austria': ['Vienna', 'Graz', 'Linz', 'Salzburg', 'Innsbruck', 'Klagenfurt', 'Villach'],
          'Belgium': ['Brussels', 'Antwerp', 'Ghent', 'Charleroi', 'Liège', 'Bruges', 'Namur'],
          'Denmark': ['Copenhagen', 'Aarhus', 'Odense', 'Aalborg', 'Esbjerg', 'Randers', 'Kolding'],
          'Finland': ['Helsinki', 'Espoo', 'Tampere', 'Vantaa', 'Oulu', 'Turku', 'Jyväskylä'],
          'Greece': ['Athens', 'Thessaloniki', 'Patras', 'Heraklion', 'Larissa', 'Volos', 'Rhodes'],
          'Portugal': ['Lisbon', 'Porto', 'Vila Nova de Gaia', 'Amadora', 'Braga', 'Setúbal', 'Coimbra'],
          'Ireland': ['Dublin', 'Cork', 'Limerick', 'Galway', 'Waterford', 'Drogheda', 'Dundalk'],
          'New Zealand': ['Auckland', 'Wellington', 'Christchurch', 'Hamilton', 'Tauranga', 'Napier', 'Dunedin'],
          'Singapore': ['Singapore'],
          'Malaysia': ['Kuala Lumpur', 'George Town', 'Ipoh', 'Shah Alam', 'Petaling Jaya', 'Kuching', 'Kota Kinabalu'],
          'Thailand': ['Bangkok', 'Nonthaburi', 'Nakhon Ratchasima', 'Chiang Mai', 'Hat Yai', 'Udon Thani', 'Pak Kret'],
          'Vietnam': ['Ho Chi Minh City', 'Hanoi', 'Haiphong', 'Can Tho', 'Da Nang', 'Biên Hòa', 'Nha Trang'],
          'Argentina': ['Buenos Aires', 'Córdoba', 'Rosario', 'Mendoza', 'San Miguel de Tucumán', 'La Plata', 'Mar del Plata'],
          'Chile': ['Santiago', 'Puente Alto', 'Maipú', 'La Florida', 'Antofagasta', 'Viña del Mar', 'Valparaíso'],
          'Colombia': ['Bogotá', 'Medellín', 'Cali', 'Barranquilla', 'Cartagena', 'Cúcuta', 'Soledad'],
          'Peru': ['Lima', 'Arequipa', 'Trujillo', 'Chiclayo', 'Huancayo', 'Iquitos', 'Piura'],
          'Nigeria': ['Lagos', 'Kano', 'Ibadan', 'Kaduna', 'Port Harcourt', 'Benin City', 'Maiduguri'],
          'Kenya': ['Nairobi', 'Mombasa', 'Kisumu', 'Nakuru', 'Eldoret', 'Malindi', 'Thika'],
          'Morocco': ['Casablanca', 'Fez', 'Tangier', 'Marrakesh', 'Salé', 'Meknes', 'Rabat'],
          'Tunisia': ['Tunis', 'Sfax', 'Sousse', 'Ettadhamen', 'Kairouan', 'Gabès', 'Bizerte'],
          'Algeria': ['Algiers', 'Oran', 'Constantine', 'Annaba', 'Blida', 'Batna', 'Djelfa']
        },
        weather: {
          'New York': { temp: 22, humidity: 60, condition: 'Sunny', rainChance: 15, windSpeed: 12, pressure: 1013 },
          'London': { temp: 15, humidity: 80, condition: 'Cloudy', rainChance: 40, windSpeed: 18, pressure: 1008 },
          'Tokyo': { temp: 25, humidity: 70, condition: 'Rainy', rainChance: 60, windSpeed: 10, pressure: 1005 },
          'Paris': { temp: 18, humidity: 75, condition: 'Cloudy', rainChance: 30, windSpeed: 15, pressure: 1010 },
          'Sydney': { temp: 26, humidity: 55, condition: 'Sunny', rainChance: 5, windSpeed: 20, pressure: 1015 }
        }
      });

      // Create mock weather data for cities not in the list
      useEffect(() => {
        Object.values(worldData.current.cities).flat().forEach(city => {
          if (!worldData.current.weather[city]) {
            worldData.current.weather[city] = {
              temp: Math.floor(Math.random() * 35) + 5,
              humidity: Math.floor(Math.random() * 60) + 20,
              condition: ['Sunny', 'Cloudy', 'Partly Cloudy', 'Rainy'][Math.floor(Math.random() * 4)],
              rainChance: Math.floor(Math.random() * 100),
              windSpeed: Math.floor(Math.random() * 30) + 5,
              pressure: Math.floor(Math.random() * 50) + 990
            };
          }
        });
      }, []);

      useEffect(() => {
        const timer = setInterval(() => {
          setCurrentTime(new Date());
        }, 1000);
        
        // Initial data loading
        setLoading(true);
        const progressInterval = setInterval(() => {
          setProgress(prev => {
            if (prev >= 100) {
              clearInterval(progressInterval);
              setLoading(false);
              setIsInitialLoad(false);
              return 100;
            }
            return prev + 10;
          });
        }, 150);
        
        setTimeout(() => {
          setCountries(worldData.current.countries);
        }, 1000);
        
        return () => {
          clearInterval(timer);
          clearInterval(progressInterval);
        };
      }, []);

      const validateDate = (dateString) => {
        if (!dateString) {
          return { valid: false, message: 'Please select a date' };
        }
        
        const selectedDate = new Date(dateString);
        const today = new Date();
        today.setHours(0, 0, 0, 0);
        
        if (isNaN(selectedDate.getTime())) {
          return { valid: false, message: 'Please enter a valid date' };
        }
        
        if (selectedDate < today) {
          return { valid: false, message: 'Please select a date from today onwards' };
        }
        
        // Limit to 1 year in the future for realistic forecasting
        const oneYearFromNow = new Date();
        oneYearFromNow.setFullYear(oneYearFromNow.getFullYear() + 1);
        
        if (selectedDate > oneYearFromNow) {
          return { valid: false, message: 'Forecast limited to 1 year in the future' };
        }
        
        return { valid: true };
      };

      const handleCountryChange = (e) => {
        const country = e.target.value;
        setFormData({ ...formData, country, city: '' });
        setCities([]);
        
        if (country && worldData.current.cities[country]) {
          setLoading(true);
          setProgress(0);
          const progressInterval = setInterval(() => {
            setProgress(prev => {
              if (prev >= 100) {
                clearInterval(progressInterval);
                setLoading(false);
                return 100;
              }
              return prev + 20;
            });
          }, 100);
          
          setTimeout(() => {
            setCities(worldData.current.cities[country]);
          }, 500);
        }
      };

      const handleChange = (e) => {
        const { name, value } = e.target;
        setFormData(prev => ({ ...prev, [name]: value }));
        
        // Clear error when user starts typing
        if (error) setError('');
      };

      const getWeatherIcon = (condition, rainChance) => {
        if (rainChance > 60) {
          return <i className="fas fa-cloud-showers-heavy weather-icon text-blue-400"></i>;
        } else if (rainChance > 30) {
          return <i className="fas fa-cloud-rain weather-icon text-blue-300"></i>;
        } else if (condition.includes('Sunny') || condition.includes('Clear')) {
          return <i className="fas fa-sun weather-icon text-yellow-400 sun-spin"></i>;
        } else if (condition.includes('Cloudy')) {
          return <i className="fas fa-cloud weather-icon text-gray-300 cloud-move"></i>;
        } else if (condition.includes('Storm') || condition.includes('Thunder')) {
          return <i className="fas fa-bolt weather-icon text-yellow-300"></i>;
        } else {
          return <i className="fas fa-cloud-sun weather-icon text-orange-300"></i>;
        }
      };

      const predictWeather = () => {
        // Validation
        if (!formData.country || !formData.city) {
          setError('Please select both country and city');
          return;
        }

        if (!formData.date) {
          setError('Please select a date for weather analysis');
          return;
        }

        const dateValidation = validateDate(formData.date);
        if (!dateValidation.valid) {
          setError(dateValidation.message);
          return;
        }

        setLoading(true);
        setProgress(0);
        const progressInterval = setInterval(() => {
          setProgress(prev => {
            if (prev >= 100) {
              clearInterval(progressInterval);
              return 100;
            }
            return prev + 10;
          });
        }, 150);
        
        // Simulate API call delay
        setTimeout(() => {
          const cityWeather = worldData.current.weather[formData.city] || { 
            temp: 20, 
            humidity: 50, 
            condition: 'Moderate',
            rainChance: 10,
            windSpeed: 15,
            pressure: 1013
          };
          
          const forecastDays = formData.forecast_period === 'Week' ? 7 : 
                              formData.forecast_period === 'Month' ? 30 : 1;
          
          const forecast = [];
          for (let i = 0; i < forecastDays; i++) {
            const date = new Date(formData.date);
            date.setDate(date.getDate() + i);
            
            // More realistic forecast generation
            const tempVariation = cityWeather.temp + Math.floor(Math.random() * 10) - 5;
            const humidityVariation = Math.max(15, Math.min(85, cityWeather.humidity + Math.floor(Math.random() * 30) - 15));
            const rainChanceVariation = Math.max(0, Math.min(100, cityWeather.rainChance + Math.floor(Math.random() * 40) - 20));
            
            // Conditions that make sense with temperature and rain chance
            let condition;
            if (rainChanceVariation > 70) condition = 'Heavy Rain';
            else if (rainChanceVariation > 40) condition = 'Rainy';
            else if (tempVariation > 30) condition = 'Sunny';
            else if (tempVariation < 10) condition = 'Cloudy';
            else condition = ['Sunny', 'Partly Cloudy', 'Cloudy'][Math.floor(Math.random() * 3)];
            
            forecast.push({
              day: i === 0 ? 'Today' : i === 1 ? 'Tomorrow' : `Day ${i+1}`,
              date: date.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric' }),
              temp: tempVariation,
              humidity: humidityVariation,
              condition: condition,
              rainChance: rainChanceVariation,
              windSpeed: Math.max(5, Math.min(40, cityWeather.windSpeed + Math.floor(Math.random() * 15) - 7))
            });
          }
          
          setWeatherData({
            city: formData.city,
            country: formData.country,
            date: formData.date,
            temperature: cityWeather.temp,
            humidity: cityWeather.humidity,
            condition: cityWeather.condition,
            rainChance: cityWeather.rainChance,
            windSpeed: cityWeather.windSpeed,
            pressure: cityWeather.pressure,
            forecast: forecast
          });
          
          setStep(2);
          setLoading(false);
          setError('');
        }, 2000);
      };

      const getAdvice = () => {
        if (!formData.user_type) {
          setError('Please select user type for personalized recommendations');
          return;
        }

        setLoading(true);
        setProgress(0);
        const progressInterval = setInterval(() => {
          setProgress(prev => {
            if (prev >= 100) {
              clearInterval(progressInterval);
              setLoading(false);
              return 100;
            }
            return prev + 25;
          });
        }, 100);
        
        setTimeout(() => {
          let adviceData = [];
          const isFarmer = formData.user_type === 'Agricultural Sector';
          const isTraveler = formData.user_type === 'Travel & Tourism';
          const isEventPlanner = formData.user_type === 'Event Management';
          
          if (isFarmer) {
            adviceData = weatherData.rainChance > 60 ? [
              'Ideal conditions for planting water-intensive crops',
              'Ensure proper field drainage to prevent waterlogging',
              'Delay pesticide application until after rainfall',
              'Harvest mature crops before heavy precipitation',
              'Monitor soil moisture levels to optimize irrigation'
            ] : weatherData.rainChance < 20 ? [
              'Optimal conditions for plowing and soil preparation',
              'Plant drought-resistant crop varieties',
              'Implement water conservation irrigation techniques',
              'Apply fertilizers during dry conditions for better absorption',
              'Schedule harvesting operations during stable weather'
            ] : [
              'Favorable conditions for most agricultural activities',
              'Monitor weather updates for sudden changes',
              'Moderate irrigation recommended based on soil conditions',
              'Suitable for applying controlled-release fertilizers',
              'Ideal for transplanting seedlings with moderate watering'
            ];
          } else if (isTraveler) {
            adviceData = weatherData.rainChance > 60 ? [
              'Consider indoor attractions and museums',
              'Pack waterproof clothing and umbrellas',
              'Check for potential travel delays due to weather',
              'Plan alternative indoor dining options',
              'Reschedule outdoor activities for clearer days'
            ] : weatherData.temperature > 30 ? [
              'Stay hydrated and use high SPF sunscreen',
              'Plan activities during cooler morning/evening hours',
              'Wear light-colored, breathable clothing',
              'Seek air-conditioned spaces during peak heat',
              'Protect electronic devices from direct sunlight'
            ] : [
              'Perfect conditions for outdoor exploration',
              'Ideal for photography and sightseeing',
              'Comfortable for extended walking tours',
              'Great opportunity for outdoor dining experiences',
              'Suitable for various recreational activities'
            ];
          } else if (isEventPlanner) {
            adviceData = weatherData.rainChance > 60 ? [
              'Activate indoor contingency plans',
              'Secure outdoor equipment and decorations',
              'Arrange for additional indoor seating capacity',
              'Communicate venue changes to attendees promptly',
              'Prepare waterproof signage and directional markers'
            ] : weatherData.temperature > 28 ? [
              'Provide ample shaded areas and cooling stations',
              'Ensure sufficient water and electrolyte supplies',
              'Schedule peak activities during cooler hours',
              'Prepare for potential heat-related emergencies',
              'Consider lighter food options that require less heating'
            ] : [
              'Ideal conditions for outdoor events and activities',
              'Perfect for garden parties and open-air ceremonies',
              'Comfortable temperatures for guest enjoyment',
              'Minimal weather-related disruptions expected',
              'Excellent opportunity for outdoor photography'
            ];
          } else {
            // General public advice
            adviceData = weatherData.rainChance > 60 ? [
              'Carry waterproof gear and umbrella',
              'Allow extra travel time for wet conditions',
              'Avoid unnecessary outdoor exposure',
              'Check local flood and weather advisories',
              'Secure outdoor furniture and belongings'
            ] : weatherData.temperature > 30 ? [
              'Stay hydrated with water and electrolytes',
              'Limit strenuous outdoor activities',
              'Wear light-colored, loose-fitting clothing',
              'Use sunscreen with high SPF protection',
              'Never leave children or pets in vehicles'
            ] : [
              'Excellent conditions for outdoor recreation',
              'Ideal for walking, cycling, and outdoor sports',
              'Perfect for open-air dining and social gatherings',
              'Comfortable for extended time outdoors',
              'Great opportunity for nature photography'
            ];
          }

          setAdvice(adviceData);
          setStep(3);
        }, 1500);
      };

      const Header = () => (
        <header className="py-5 px-6 header-gradient sticky top-0 z-50">
          <div className="container mx-auto flex justify-between items-center">
            <div className="flex items-center space-x-2">
              <div className="nasa-logo">
                <i className="fas fa-rocket text-white"></i>
                <span className="nasa-logo-text">NASA</span>
                <span className="nasa-badge">WEATHER INTELLIGENCE</span>
              </div>
            </div>
            
            <div className="flex items-center space-x-4">
              <div className="flex space-x-2">
                <div 
                  className={`nav-link ${currentPage === 'home' ? 'active' : ''}`}
                  onClick={() => setCurrentPage('home')}
                >
                  <i className="fas fa-home mr-2"></i>
                  Home
                </div>
                <div 
                  className={`nav-link ${currentPage === 'about' ? 'active' : ''}`}
                  onClick={() => setCurrentPage('about')}
                >
                  <i className="fas fa-info-circle mr-2"></i>
                  About Us
                </div>
              </div>
              
              <div className="text-white text-sm hidden md:block">
                <div className="flex items-center space-x-2">
                  <i className="fas fa-clock text-blue-400"></i>
                  <span className="font-mono">{currentTime.toLocaleTimeString('en-US')}</span>
                </div>
                <div className="text-gray-400 text-xs">
                  {currentTime.toLocaleDateString('en-US', { 
                    weekday: 'long', 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric' 
                  })}
                </div>
              </div>
            </div>
          </div>
        </header>
      );

      const LoadingScreen = ({ message = "Initializing NASA Weather Systems" }) => (
        <div className="min-h-screen flex flex-col items-center justify-center">
          <div className="text-center text-white">
            <div className="loading-dots mb-6">
              <div></div>
              <div></div>
              <div></div>
              <div></div>
            </div>
            <h2 className="text-2xl font-bold mb-2">{message}</h2>
            <p className="text-gray-400">Processing satellite meteorological data...</p>
            <div className="progress-bar mt-6 w-64 mx-auto">
              <div className="progress-fill" style={{ width: `${progress}%` }}></div>
            </div>
            <p className="text-sm text-gray-500 mt-3">{progress}% Complete</p>
          </div>
        </div>
      );

      const WeatherRadar = ({ city, rainChance }) => {
        const dots = [];
        const dotCount = Math.min(15, Math.floor(rainChance / 7));
        
        for (let i = 0; i < dotCount; i++) {
          const angle = Math.random() * 360;
          const distance = 20 + Math.random() * 70;
          const x = 50 + Math.cos(angle * Math.PI / 180) * distance;
          const y = 50 + Math.sin(angle * Math.PI / 180) * distance;
          const size = 5 + Math.random() * 10;
          const opacity = 0.3 + Math.random() * 0.7;
          
          dots.push(
            <div 
              key={i}
              className="radar-dot"
              style={{
                left: `${x}%`,
                top: `${y}%`,
                width: `${size}px`,
                height: `${size}px`,
                opacity: opacity,
                animationDelay: `${Math.random() * 2}s`
              }}
            ></div>
          );
        }
        
        return (
          <div className="weather-radar mt-6">
            <div className="radar-sweep"></div>
            {dots}
            <div className="absolute bottom-3 left-3 text-xs text-gray-400">
              Precipitation Radar: {city}
            </div>
            <div className="absolute top-3 right-3 text-xs text-blue-400 font-semibold">
              Intensity: {rainChance}%
            </div>
          </div>
        );
      };

      const AboutPage = () => (
        <div className="container mx-auto px-4 py-8 fade-in">
          <div className="max-w-6xl mx-auto">
            <div className="card p-8 rounded-2xl slide-up mb-8">
              <div className="text-center mb-10">
                <h1 className="text-4xl font-bold text-white mb-4">
                  <i className="fas fa-info-circle mr-3 text-blue-500"></i>
                  About NASA Weather Intelligence
                </h1>
                <p className="text-gray-300 text-lg">Revolutionizing weather forecasting through advanced satellite technology and AI</p>
              </div>

              <div className="grid grid-cols-1 md:grid-cols-2 gap-8 mb-10">
                <div className="data-card">
                  <i className="fas fa-satellite text-blue-400 text-3xl mb-4"></i>
                  <h3 className="text-xl font-bold text-white mb-3">Our Mission</h3>
                  <p className="text-gray-300">
                    To provide the most accurate, timely, and actionable weather intelligence using NASA's cutting-edge satellite technology, 
                    advanced atmospheric modeling, and machine learning algorithms.
                  </p>
                </div>
                
                <div className="data-card">
                  <i className="fas fa-globe-americas text-green-400 text-3xl mb-4"></i>
                  <h3 className="text-xl font-bold text-white mb-3">Global Coverage</h3>
                  <p className="text-gray-300">
                    Our system leverages data from 20+ Earth observation satellites to provide comprehensive weather monitoring 
                    and forecasting for every corner of the planet.
                  </p>
                </div>
              </div>

              <div className="mb-10">
                <h3 className="text-2xl font-semibold mb-6 text-white">Our Technology</h3>
                <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                  <div className="bg-gradient-to-br from-blue-800 to-purple-900 p-6 rounded-2xl">
                    <i className="fas fa-satellite-dish text-4xl mb-4 text-blue-300"></i>
                    <h4 className="text-lg font-bold text-white mb-2">Satellite Network</h4>
                    <p className="text-gray-300 text-sm">
                      Advanced Earth observation satellites providing real-time atmospheric data with unprecedented resolution.
                    </p>
                  </div>
                  
                  <div className="bg-gradient-to-br from-green-800 to-blue-900 p-6 rounded-2xl">
                    <i className="fas fa-brain text-4xl mb-4 text-green-300"></i>
                    <h4 className="text-lg font-bold text-white mb-2">AI Analysis</h4>
                    <p className="text-gray-300 text-sm">
                      Machine learning algorithms that process petabytes of data to identify patterns and improve forecast accuracy.
                    </p>
                  </div>
                  
                  <div className="bg-gradient-to-br from-purple-800 to-pink-900 p-6 rounded-2xl">
                    <i className="fas fa-chart-line text-4xl mb-4 text-purple-300"></i>
                    <h4 className="text-lg font-bold text-white mb-2">Climate Modeling</h4>
                    <p className="text-gray-300 text-sm">
                      Sophisticated climate models that simulate atmospheric conditions with 94.7% accuracy.
                    </p>
                  </div>
                </div>
              </div>

              <div className="bg-gradient-to-r from-blue-900/30 to-blue-800/20 p-8 rounded-2xl border border-blue-700/30 mb-8">
                <h3 className="text-2xl font-semibold mb-6 text-white">Our Team</h3>
                <p className="text-gray-300 mb-6">
                  NASA Weather Intelligence is developed by <span className="font-bold text-blue-400">iNFINITY MISSION</span>, 
                  a multidisciplinary team of meteorologists, data scientists, satellite engineers, and climate researchers 
                  dedicated to advancing our understanding of Earth's weather systems.
                </p>
                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                  {teamMembers.map((member, index) => (
                    <div 
                      key={index} 
                      className={`team-member card p-6 rounded-2xl text-center ${member.isLeader ? 'team-leader' : ''}`}
                    >
                      <div className="w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-blue-600 to-purple-700 rounded-full flex items-center justify-center">
                        <i className="fas fa-user-astronaut text-white text-2xl"></i>
                      </div>
                      <h4 className="font-bold text-white text-lg">{member.name}</h4>
                      <p className="text-gray-400">{member.role}</p>
                      {member.isLeader && (
                        <div className="mt-2">
                          <span className="inline-block bg-red-600 text-white text-xs px-2 py-1 rounded-full">
                            Team Leader
                          </span>
                        </div>
                      )}
                    </div>
                  ))}
                </div>
              </div>

              <div className="bg-gradient-to-r from-purple-900/30 to-purple-800/20 p-8 rounded-2xl border border-purple-700/30">
                <h3 className="text-2xl font-semibold mb-6 text-white">Our Vision</h3>
                <p className="text-gray-300 mb-4">
                  We envision a world where accurate weather forecasting enables better decision-making for agriculture, 
                  transportation, disaster management, and everyday life. Through continuous innovation and collaboration 
                  with NASA's scientific community, we're pushing the boundaries of what's possible in meteorological science.
                </p>
                <div className="flex items-center justify-center mt-6">
                  <div className="bg-gradient-to-r from-blue-600 to-purple-700 text-white py-3 px-6 rounded-full font-bold text-lg">
                    iNFINITY MISSION
                  </div>
                </div>
              </div>
            </div>
            
            <button
              className="w-full bg-gray-700 hover:bg-gray-600 text-white py-4 rounded-lg font-medium transition-all duration-300 flex items-center justify-center text-lg"
              onClick={() => setCurrentPage('home')}
            >
              <i className="fas fa-arrow-left mr-3"></i>
              Back to Home
            </button>
          </div>
        </div>
      );

      const renderStep1 = () => (
        <div className="container mx-auto px-4 py-8 fade-in">
          <div className="max-w-4xl mx-auto card p-8 rounded-2xl slide-up">
            <div className="text-center mb-10">
              <h1 className="text-4xl font-bold text-white mb-4 typing-animation">
                <i className="fas fa-satellite mr-3 text-blue-500"></i>
                NASA Global Weather Intelligence
              </h1>
              <p className="text-gray-300 text-lg">Advanced meteorological analysis powered by satellite data and climate research</p>
            </div>
          
            {error && (
              <div className="bg-red-900/50 border border-red-700 text-red-200 px-4 py-3 rounded-lg mb-6 flex items-center">
                <i className="fas fa-exclamation-circle mr-3"></i>
                <span>{error}</span>
              </div>
            )}

            <div className="space-y-6">
              <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                  <label className="block text-sm font-medium text-gray-300 mb-2">
                    <i className="fas fa-globe-americas mr-2 text-blue-400"></i>
                    Select Country
                  </label>
                  <select 
                    className="form-select"
                    value={formData.country}
                    onChange={handleCountryChange}
                  >
                    <option value="">Choose a country</option>
                    {countries.map(country => (
                      <option key={country} value={country}>{country}</option>
                    ))}
                  </select>
                </div>

                <div>
                  <label className="block text-sm font-medium text-gray-300 mb-2">
                    <i className="fas fa-city mr-2 text-blue-400"></i>
                    Select City
                  </label>
                  <select 
                    className="form-select"
                    name="city"
                    value={formData.city}
                    onChange={handleChange}
                    disabled={!formData.country || loading}
                  >
                    <option value="">{formData.country ? "Choose a city" : "Select country first"}</option>
                    {cities.map(city => (
                      <option key={city} value={city}>{city}</option>
                    ))}
                  </select>
                </div>
              </div>

              <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                  <label className="block text-sm font-medium text-gray-300 mb-2">
                    <i className="fas fa-calendar-alt mr-2 text-blue-400"></i>
                    Analysis Date
                  </label>
                  <input 
                    type="date"
                    className="form-input"
                    name="date"
                    value={formData.date}
                    onChange={handleChange}
                    min={new Date().toISOString().split('T')[0]}
                    max={new Date(new Date().setFullYear(new Date().getFullYear() + 1)).toISOString().split('T')[0]}
                  />
                </div>
                
                <div>
                  <label className="block text-sm font-medium text-gray-300 mb-2">
                    <i className="fas fa-chart-line mr-2 text-blue-400"></i>
                    Forecast Period
                  </label>
                  <select 
                    className="form-select"
                    name="forecast_period"
                    value={formData.forecast_period}
                    onChange={handleChange}
                  >
                    <option value="1 day">24-Hour Forecast</option>
                    <option value="Week">7-Day Extended Forecast</option>
                    <option value="Month">30-Day Climate Outlook</option>
                  </select>
                </div>
              </div>

              <button
                className="w-full btn-primary py-4 text-lg pulse mt-4"
                onClick={predictWeather}
                disabled={loading || !formData.country || !formData.city || !formData.date}
              >
                {loading ? (
                  <>
                    <i className="fas fa-spinner fa-spin mr-2"></i>
                    Analyzing Meteorological Data...
                  </>
                ) : (
                  <>
                    <i className="fas fa-satellite-dish mr-2"></i>
                    Generate Advanced Weather Analysis
                  </>
                )}
              </button>
            </div>
            
            <div className="mt-10 pt-8 border-t border-gray-700">
              <h3 className="text-xl font-semibold text-white mb-6 flex items-center">
                <i className="fas fa-info-circle mr-3 text-blue-400"></i>
                NASA Meteorological Capabilities
              </h3>
              <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div className="data-card">
                  <i className="fas fa-satellite-dish text-blue-400 text-2xl mb-3"></i>
                  <p className="text-sm text-gray-300">Satellite Coverage</p>
                  <p className="font-bold text-white">Global Observation Network</p>
                  <p className="text-xs text-gray-500 mt-2">Real-time data from 20+ NASA Earth observation satellites</p>
                </div>
                <div className="data-card">
                  <i className="fas fa-wind text-green-400 text-2xl mb-3"></i>
                  <p className="text-sm text-gray-300">Atmospheric Modeling</p>
                  <p className="font-bold text-white">Advanced Prediction Algorithms</p>
                  <p className="text-xs text-gray-500 mt-2">High-resolution climate models with 94.7% accuracy</p>
                </div>
                <div className="data-card">
                  <i className="fas fa-cloud-sun-rain text-purple-400 text-2xl mb-3"></i>
                  <p className="text-sm text-gray-300">Precipitation Analysis</p>
                  <p className="font-bold text-white">Global Rainfall Monitoring</p>
                  <p className="text-xs text-gray-500 mt-2">Advanced radar and satellite precipitation measurement</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      );

      const renderStep2 = () => (
        <div className="container mx-auto px-4 py-8 fade-in">
          <div className="max-w-6xl mx-auto">
            <div className="card p-8 rounded-2xl mb-8 slide-up">
              <h1 className="text-3xl font-bold text-center mb-2 text-white">
                <i className="fas fa-map-marker-alt mr-3 text-red-400"></i>
                Meteorological Analysis: {weatherData.city}, {weatherData.country}
              </h1>
              <p className="text-gray-400 text-center mb-8">Comprehensive weather assessment based on satellite data and atmospheric models</p>

              <div className="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-10">
                <div className={`lg:col-span-2 bg-gradient-to-br from-blue-800 to-purple-900 p-6 rounded-2xl text-white ${weatherData.rainChance > 50 ? 'rain-animation' : ''}`}>
                  <div className="flex justify-between items-center mb-6">
                    <div>
                      <div className="text-5xl font-bold">{weatherData.temperature}°C</div>
                      <div className="text-2xl mt-2">{weatherData.condition}</div>
                      <div className="text-gray-300 mt-1">Feels like {weatherData.temperature + 2}°C</div>
                    </div>
                    <div className="text-6xl">
                      {getWeatherIcon(weatherData.condition, weatherData.rainChance)}
                    </div>
                  </div>
                  <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mt-6">
                    <div className="bg-white/10 p-4 rounded-lg text-center tooltip" data-tooltip="Relative Humidity Level">
                      <i className="fas fa-tint text-blue-300 text-xl mb-2"></i>
                      <div className="text-sm text-gray-300">Humidity</div>
                      <div className="font-bold text-white text-lg">{weatherData.humidity}%</div>
                    </div>
                    <div className="bg-white/10 p-4 rounded-lg text-center tooltip" data-tooltip="Probability of Precipitation">
                      <i className="fas fa-cloud-rain text-blue-300 text-xl mb-2"></i>
                      <div className="text-sm text-gray-300">Rain Chance</div>
                      <div className="font-bold text-white text-lg">{weatherData.rainChance}%</div>
                    </div>
                    <div className="bg-white/10 p-4 rounded-lg text-center tooltip" data-tooltip="Wind Speed at 10m height">
                      <i className="fas fa-wind text-blue-300 text-xl mb-2"></i>
                      <div className="text-sm text-gray-300">Wind Speed</div>
                      <div className="font-bold text-white text-lg">{weatherData.windSpeed} km/h</div>
                    </div>
                    <div className="bg-white/10 p-4 rounded-lg text-center tooltip" data-tooltip="Atmospheric Pressure at Sea Level">
                      <i className="fas fa-tachometer-alt text-blue-300 text-xl mb-2"></i>
                      <div className="text-sm text-gray-300">Pressure</div>
                      <div className="font-bold text-white text-lg">{weatherData.pressure} hPa</div>
                    </div>
                  </div>
                  
                  <WeatherRadar city={weatherData.city} rainChance={weatherData.rainChance} />
                </div>

                <div className="card p-6 rounded-2xl">
                  <h3 className="font-semibold text-xl mb-6 text-white flex items-center">
                    <i className="fas fa-info-circle mr-3 text-blue-400"></i>
                    Analysis Details
                  </h3>
                  <div className="space-y-4">
                    <div className="flex justify-between py-3 border-b border-gray-700">
                      <span className="text-gray-300">Target Date</span>
                      <span className="font-medium text-white">{new Date(weatherData.date).toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}</span>
                    </div>
                    <div className="flex justify-between py-3 border-b border-gray-700">
                      <span className="text-gray-300">Forecast Period</span>
                      <span className="font-medium text-white">{formData.forecast_period === '1 day' ? '24-Hour' : formData.forecast_period === 'Week' ? '7-Day' : '30-Day'}</span>
                    </div>
                    <div className="flex justify-between py-3 border-b border-gray-700">
                      <span className="text-gray-300">Atmospheric Conditions</span>
                      <span className="font-medium text-white">{weatherData.condition}</span>
                    </div>
                    <div className="flex justify-between py-3 border-b border-gray-700">
                      <span className="text-gray-300">Data Source</span>
                      <span className="font-medium text-white">NASA Satellites</span>
                    </div>
                    <div className="flex justify-between py-3">
                      <span className="text-gray-300">Last Update</span>
                      <span className="font-medium text-white">{currentTime.toLocaleTimeString('en-US')}</span>
                    </div>
                  </div>
                  
                  <div className="mt-8">
                    <h4 className="font-semibold text-lg mb-4 text-white">Weather Summary</h4>
                    <p className="text-gray-300 text-sm">
                      {weatherData.rainChance > 60 
                        ? `High probability of precipitation (${weatherData.rainChance}%) expected. Prepare for potentially wet conditions with temperatures around ${weatherData.temperature}°C.`
                        : weatherData.rainChance > 30
                        ? `Moderate chance of rain (${weatherData.rainChance}%) with temperatures around ${weatherData.temperature}°C. Mixed conditions expected.`
                        : `Mostly dry conditions (${weatherData.rainChance}% rain chance) with temperatures around ${weatherData.temperature}°C. Generally favorable weather.`
                      }
                    </p>
                  </div>
                </div>
              </div>

              <div className="mb-10">
                <h3 className="text-2xl font-semibold mb-6 text-white flex items-center">
                  <i className="fas fa-chart-bar mr-3 text-blue-400"></i>
                  Extended Forecast: {formData.forecast_period === '1 day' ? '24-Hour' : formData.forecast_period === 'Week' ? '7-Day' : '30-Day'} Outlook
                </h3>
                <div className="forecast-grid">
                  {weatherData.forecast.slice(0, formData.forecast_period === 'Month' ? 30 : 
                                              formData.forecast_period === 'Week' ? 7 : 1).map((day, index) => (
                    <div key={index} className="card p-4 rounded-xl text-center transition-all hover:shadow-lg hover:bg-gray-800/70">
                      <div className="font-medium text-sm mb-1">{day.day}</div>
                      <div className="text-xs text-gray-400 mb-3">{day.date}</div>
                      <div className="my-3 text-3xl">
                        {getWeatherIcon(day.condition, day.rainChance)}
                      </div>
                      <div className="font-bold text-xl">{day.temp}°C</div>
                      <div className="text-xs text-blue-400 mt-2">{day.rainChance}% precipitation</div>
                      <div className="text-xs text-gray-500 mt-1">{day.windSpeed} km/h wind</div>
                    </div>
                  ))}
                </div>
              </div>

              <div className="bg-gradient-to-r from-yellow-900/30 to-yellow-800/20 p-8 rounded-2xl border border-yellow-700/30">
                <h3 className="font-semibold text-2xl mb-6 text-white flex items-center">
                  <i className="fas fa-lightbulb mr-3 text-yellow-400"></i>
                  Activity-Specific Recommendations
                </h3>
                <div className="mb-6">
                  <label className="block text-lg font-medium text-gray-300 mb-4">
                    <i className="fas fa-user mr-3 text-blue-400"></i>
                    Select Your Profile for Personalized Advice
                  </label>
                  <select 
                    className="form-select text-lg py-3"
                    value={formData.user_type}
                    onChange={(e) => setFormData({...formData, user_type: e.target.value})}
                  >
                    <option value="">Choose your profile...</option>
                    <option value="General Public">General Public</option>
                    <option value="Agricultural Sector">Agricultural Sector</option>
                    <option value="Travel & Tourism">Travel & Tourism</option>
                    <option value="Event Management">Event Management</option>
                  </select>
                </div>
                
                <button
                  className="w-full bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white py-4 rounded-lg font-medium transition-all duration-300 flex items-center justify-center text-lg"
                  onClick={getAdvice}
                  disabled={!formData.user_type || loading}
                >
                  {loading ? (
                    <>
                      <i className="fas fa-spinner fa-spin mr-3"></i>
                      Generating Custom Recommendations...
                    </>
                  ) : (
                    <>
                      <i className="fas fa-hands-helping mr-3"></i>
                      Get Personalized Activity Recommendations
                    </>
                  )}
                </button>
              </div>
            </div>

            <button
              className="w-full bg-gray-700 hover:bg-gray-600 text-white py-4 rounded-lg font-medium transition-all duration-300 flex items-center justify-center text-lg"
              onClick={() => setStep(1)}
            >
              <i className="fas fa-arrow-left mr-3"></i>
              Back to Analysis Dashboard
            </button>
          </div>
        </div>
      );

      const renderStep3 = () => (
        <div className="container mx-auto px-4 py-8 fade-in">
          <div className="max-w-6xl mx-auto">
            <div className="card p-8 rounded-2xl slide-up">
              <h1 className="text-3xl font-bold text-center mb-2 text-white">
                <i className="fas fa-user-tie mr-3 text-purple-400"></i>
                NASA Recommendations for {formData.user_type}
              </h1>
              <p className="text-gray-400 text-center mb-8">Personalized guidance based on current and forecasted weather conditions</p>

              <div className="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-10">
                <div className="card p-6 rounded-2xl">
                  <h3 className="font-semibold text-xl mb-6 text-white flex items-center">
                    <i className="fas fa-cloud-sun mr-3 text-blue-400"></i>
                    Current Conditions
                  </h3>
                  <div className="text-center py-4">
                    <div className="text-6xl mb-6">
                      {getWeatherIcon(weatherData.condition, weatherData.rainChance)}
                    </div>
                    <div className="text-4xl font-bold text-white">{weatherData.temperature}°C</div>
                    <div className="text-xl text-gray-300 mt-2">{weatherData.condition}</div>
                    <div className="text-blue-400 font-medium mt-4 text-lg">Precipitation Probability: {weatherData.rainChance}%</div>
                    <div className="grid grid-cols-2 gap-4 mt-6">
                      <div className="text-center">
                        <div className="text-gray-400 text-sm">Humidity</div>
                        <div className="font-bold text-white">{weatherData.humidity}%</div>
                      </div>
                      <div className="text-center">
                        <div className="text-gray-400 text-sm">Wind Speed</div>
                        <div className="font-bold text-white">{weatherData.windSpeed} km/h</div>
                      </div>
                    </div>
                  </div>
                </div>

                <div className="lg:col-span-2 bg-gradient-to-r from-green-900/30 to-green-800/20 p-8 rounded-2xl border border-green-700/30">
                  <h3 className="font-semibold text-2xl mb-6 text-white flex items-center">
                    <i className="fas fa-lightbulb mr-3 text-green-400"></i>
                    Activity Recommendations
                  </h3>
                  <ul className="space-y-4">
                    {advice.map((item, index) => (
                      <li key={index} className="flex items-start p-4 bg-gray-800/50 rounded-lg hover:bg-gray-800/70 transition-all">
                        <i className="fas fa-check text-green-500 mt-1 mr-4 text-lg"></i>
                        <span className="text-gray-300 text-lg">{item}</span>
                      </li>
                    ))}
                  </ul>
                </div>
              </div>

              <div className="bg-gradient-to-r from-blue-900/30 to-blue-800/20 p-8 rounded-2xl border border-blue-700/30 mb-8">
                <h3 className="font-semibold text-2xl mb-6 text-white">5-Day Weather Summary</h3>
                <div className="overflow-x-auto">
                  <table className="w-full text-base text-center">
                    <thead className="bg-blue-800/50">
                      <tr>
                        <th className="p-4">Day</th>
                        <th className="p-4">Date</th>
                        <th className="p-4">Atmospheric Conditions</th>
                        <th className="p-4">Temperature</th>
                        <th className="p-4">Precipitation Probability</th>
                        <th className="p-4">Wind Speed</th>
                      </tr>
                    </thead>
                    <tbody>
                      {weatherData.forecast.slice(0, 5).map((day, index) => (
                        <tr key={index} className="border-b border-blue-800/30 hover:bg-blue-900/20 transition-all">
                          <td className="p-4 font-medium">{day.day}</td>
                          <td className="p-4">{day.date}</td>
                          <td className="p-4">
                            <div className="flex items-center justify-center">
                              <span className="mr-2 text-xl">
                                {getWeatherIcon(day.condition, day.rainChance)}
                              </span>
                              {day.condition}
                            </div>
                          </td>
                          <td className="p-4 font-bold">{day.temp}°C</td>
                          <td className="p-4">
                            <span className={`font-semibold ${day.rainChance > 50 ? 'text-blue-400' : day.rainChance > 20 ? 'text-blue-300' : 'text-gray-400'}`}>
                              {day.rainChance}%
                            </span>
                          </td>
                          <td className="p-4">{day.windSpeed} km/h</td>
                        </tr>
                      ))}
                    </tbody>
                  </table>
                </div>
              </div>

              <div className="flex gap-4">
                <button
                  className="flex-1 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white py-4 rounded-lg font-medium transition-all duration-300 flex items-center justify-center text-lg"
                  onClick={() => setStep(2)}
                >
                  <i className="fas fa-arrow-left mr-3"></i>
                  Back to Weather Analysis
                </button>
                <button
                  className="flex-1 bg-gradient-to-r from-gray-700 to-gray-800 hover:from-gray-800 hover:to-gray-900 text-white py-4 rounded-lg font-medium transition-all duration-300 flex items-center justify-center text-lg"
                  onClick={() => {
                    setStep(1);
                    setFormData({
                      country: '',
                      city: '',
                      date: '',
                      forecast_period: '1 day',
                      user_type: '',
                      category: '',
                    });
                    setWeatherData(null);
                    setAdvice(null);
                  }}
                >
                  <i className="fas fa-search mr-3"></i>
                  New Weather Analysis
                </button>
              </div>
            </div>
          </div>
        </div>
      );

      if (isInitialLoad) {
        return (
          <div className="min-h-screen space-bg flex flex-col relative">
            <Header />
            <LoadingScreen message="Initializing NASA Weather Systems" />
          </div>
        );
      }

      if (loading && step === 1) {
        return (
          <div className="min-h-screen space-bg flex flex-col relative">
            <Header />
            <LoadingScreen message="Processing Meteorological Data" />
          </div>
        );
      }

      return (
        <div className="min-h-screen space-bg flex flex-col relative">
          <Header />
          <main className="flex-1 py-4 relative z-10">
            {currentPage === 'home' && (
              <>
                {step === 1 && renderStep1()}
                {step === 2 && weatherData && renderStep2()}
                {step === 3 && advice && renderStep3()}
              </>
            )}
            {currentPage === 'about' && <AboutPage />}
          </main>
          <footer className="footer-gradient text-white py-6 text-center relative z-10 mt-12">
            <div className="container mx-auto">
              <p className="flex items-center justify-center space-x-2 text-lg">
                <i className="fas fa-rocket text-blue-400"></i>
                <span>© 2023 NASA Space Apps Challenge - Advanced Weather Intelligence System</span>
              </p>
              <p className="text-gray-400 text-sm mt-2">Powered by satellite data, atmospheric research, and climate modeling</p>
              <div className="flex justify-center space-x-6 mt-4 text-gray-500 text-sm">
                <span>Global Coverage</span>
                <span>•</span>
                <span>Real-time Data</span>
                <span>•</span>
                <span>Scientific Accuracy</span>
              </div>
            </div>
          </footer>
        </div>
      );
    }

    // Render the app
    ReactDOM.render(<App />, document.getElementById('root'));
  </script>
</body>
</html>
